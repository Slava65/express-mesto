{"version":3,"sources":["images/header-logo.svg","components/Header.js","contexts/CurrentUserContext.js","components/Card.js","components/Main.js","components/Footer.js","components/ImagePopup.js","utiles/api.js","components/PopupWithForm.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","components/App.js","reportWebVitals.js","index.js"],"names":["Header","className","src","logo","alt","CurrentUserContext","React","createContext","Card","card","onCardClick","currentUser","onCardLike","onCardDelete","isOwn","owner","_id","cardDeleteButtonClassName","isLiked","likes","some","i","Provider","value","name","link","onClick","type","aria-label","id","length","Main","onEditAvatar","onEditProfile","onAddPlace","cards","currentuser","useContext","avatar","about","map","Footer","ImagePopup","onClose","api","options","_handleResult","res","ok","json","Promise","reject","status","this","_url","url","_headers","headers","fetch","then","method","body","JSON","stringify","cardId","newAva","authorization","PopupWithForm","isOpen","title","children","onSubmit","buttonText","noValidate","EditProfilePopup","onUpdateUser","useState","setName","description","setDescription","useEffect","e","preventDefault","required","minLength","maxLength","onChange","target","EditAvatarPopup","onUpdateAvatar","linkAvatar","useRef","current","ref","placeholder","AddPlacePopup","setLink","App","isEditAvatarPopupOpen","setIsEditAvatar","isEditProfilePopupOpen","setIsEditProfile","isAddPlacePopupOpen","setIsEditPlace","undefined","selectedCard","setSelectedCard","setCurrentUser","setCards","closeAllPopups","getInitialCards","data","catch","err","console","log","getInfoUser","user","setLike","newCard","newCards","c","delCard","filter","setAva","info","editInfoUser","addNewCard","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.9802b5d7.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/header-logo.c2821b38.svg\";","import logo from \"../images/header-logo.svg\";\r\n\r\nfunction Header() {\r\n    return (\r\n        <header className=\"header\">\r\n          <img\r\n            className=\"header__logo\"\r\n            src={logo}\r\n            alt=\"Место. Россия\"\r\n          />\r\n        </header>\r\n    );\r\n  }\r\n  \r\n  export default Header;","import React from \"react\";\r\n\r\nexport const CurrentUserContext = React.createContext();\r\n","import { CurrentUserContext } from '../contexts/CurrentUserContext';\r\n\r\nexport default function Card({ card, onCardClick, currentUser, onCardLike, onCardDelete }) {\r\n  function handleImageClick() {\r\n    onCardClick(card);\r\n  }\r\n  const isOwn = card.owner._id === currentUser._id;\r\n  const cardDeleteButtonClassName = (\r\n    `element__delete ${isOwn ? '' : 'element__delete_none'}`\r\n  ); \r\n\r\n  function handleLikeClick() {\r\n    onCardLike(card);\r\n  }\r\n\r\n  function handleDeleteClick() {\r\n    onCardDelete(card._id, card);\r\n  }\r\n  \r\n  const isLiked = card.likes.some(i => i._id === currentUser._id)\r\n\r\n  return (\r\n    <CurrentUserContext.Provider value={currentUser}>\r\n    <li className=\"element\">\r\n      <article>\r\n        <img\r\n          className=\"element__image\"\r\n          alt={card.name}\r\n          src={card.link}\r\n          onClick={handleImageClick}\r\n        />\r\n        <button\r\n          type=\"button\"\r\n          className={cardDeleteButtonClassName}\r\n          aria-label=\"Удалить\"\r\n          onClick={handleDeleteClick}\r\n        ></button>\r\n        <div className=\"element__place\">\r\n          <p id=\"point\" className=\"element__point\">\r\n            {card.name}\r\n          </p>\r\n          <div className=\"element__likeblock\">\r\n            <button\r\n              type=\"button\"\r\n              className={`element__like ${isLiked && \"element__like_active\"}`}\r\n              aria-label=\"Нравится\"\r\n              onClick={handleLikeClick}\r\n            ></button>\r\n            <p className=\"element__likecount\">{card.likes.length}</p>\r\n          </div>\r\n        </div>\r\n      </article>\r\n    </li>\r\n    </CurrentUserContext.Provider>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport Card from \"./Card\";\r\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\r\n\r\nexport default function Main({\r\n  onEditAvatar,\r\n  onEditProfile,\r\n  onAddPlace,\r\n  onCardClick,\r\n  cards,\r\n  onCardLike,\r\n  onCardDelete,\r\n}) {\r\n  const currentuser = React.useContext(CurrentUserContext);\r\n\r\n  return (\r\n    <main>\r\n      <section className=\"profile\">\r\n        <div className=\"profile__data\">\r\n          <div className=\"profile__ava-block\">\r\n            <img\r\n              className=\"profile__avatar\"\r\n              src={currentuser.avatar}\r\n              alt=\"\"\r\n              onClick={onEditAvatar}\r\n            />\r\n            <button\r\n              type=\"button\"\r\n              className=\"profile__avatar-edit\"\r\n              aria-label=\"Редактировать\"\r\n            ></button>\r\n          </div>\r\n          <div className=\"profile__text\">\r\n            <h1 className=\"profile__name\">{currentuser.name}</h1>\r\n            <p className=\"profile__job\">{currentuser.about}</p>\r\n          </div>\r\n          <button\r\n            type=\"button\"\r\n            className=\"profile__edit-button\"\r\n            aria-label=\"Редактировать\"\r\n            onClick={onEditProfile}\r\n          ></button>\r\n        </div>\r\n        <button\r\n          type=\"button\"\r\n          className=\"profile__add-button\"\r\n          aria-label=\"Добавить\"\r\n          onClick={onAddPlace}\r\n        ></button>\r\n      </section>\r\n      <section className=\"elements\">\r\n        <ul className=\"element__list\">\r\n          {cards.map((card) => (\r\n            <Card\r\n              key={card._id}\r\n              card={card}\r\n              onCardClick={onCardClick}\r\n              currentUser={currentuser}\r\n              onCardLike={onCardLike}\r\n              onCardDelete={onCardDelete}\r\n            />\r\n          ))}\r\n        </ul>\r\n      </section>\r\n    </main>\r\n  );\r\n}\r\n","function Footer() {\r\n    return (\r\n        <footer className=\"footer\">\r\n        <p className=\"footer__copyright\">&copy; 2020. Mesto Russia</p>\r\n      </footer>\r\n    );\r\n  }\r\n  \r\n  export default Footer;","export default function ImagePopup({ card, onClose }) {\r\n  return (\r\n    <div className={`popup popup_image ${card && \"popup_opened\"}`}>\r\n      <figure className=\"popup__image-container\">\r\n        <img\r\n          className=\"popup__big-image\"\r\n          src={card && card.link}\r\n          alt={card && card.name}\r\n        />\r\n        <button\r\n          type=\"button\"\r\n          className=\"popup__close popup__close_image\"\r\n          aria-label=\"Закрыть Окно\"\r\n          onClick={onClose}\r\n        ></button>\r\n        <p className=\"popup__image-name\">{card && card.name}</p>\r\n      </figure>\r\n    </div>\r\n  );\r\n}\r\n","class Api {\n  constructor(options) {\n    this._url = options.url;\n    this._headers = options.headers;\n  }\n\n  _handleResult = (res) => {\n    if (!res.ok) {\n      return Promise.reject(`Error: ${res.status}`);\n    }\n    return res.json();\n  };\n\n  getInitialCards() {\n    return fetch(`${this._url}cards`, {\n      headers: this._headers,\n    }).then(this._handleResult);\n  }\n\n  addNewCard({ name, link }) {\n    return fetch(`${this._url}cards`, {\n      method: \"POST\",\n      headers: this._headers,\n      body: JSON.stringify({ name, link }),\n    }).then(this._handleResult);\n  }\n\n  delCard(cardId) {\n    return fetch(`${this._url}cards/${cardId}`, {\n      method: \"DELETE\",\n      headers: this._headers,\n    }).then(this._handleResult);\n  }\n\n  getInfoUser() {\n    return fetch(`${this._url}users/me`, {\n      headers: this._headers,\n    }).then(this._handleResult);\n  }\n\n  editInfoUser({ name, about }) {\n    return fetch(`${this._url}users/me`, {\n      method: \"PATCH\",\n      headers: this._headers,\n      body: JSON.stringify({ name, about }),\n    }).then(this._handleResult);\n  }\n\n  setLike(cardId, isLiked) {\n    const method = isLiked ? \"DELETE\" : \"PUT\";\n    return fetch(`${this._url}cards/likes/${cardId}`, {\n      method,\n      headers: this._headers,\n    }).then(this._handleResult);\n  }\n\n  setAva(newAva) {\n    return fetch(`${this._url}users/me/avatar`, {\n      method: \"PATCH\",\n      headers: this._headers,\n      body: JSON.stringify({\n        avatar: newAva,\n      }),\n    }).then(this._handleResult);\n  }\n}\n\nexport const api = new Api({\n  url: \"https://mesto.nomoreparties.co/v1/cohort-17/\",\n  headers: {\n    authorization: \"0e96ce82-cb8c-46ca-92d9-5a6f89ffec59\",\n    \"Content-Type\": \"application/json\",\n  },\n});\n","export default function PopupWithForm({\r\n  name,\r\n  isOpen,\r\n  title,\r\n  children,\r\n  onClose,\r\n  onSubmit,\r\n  buttonText\r\n}) {\r\n  return (\r\n    <div className={`popup popup_${name} ${isOpen && \"popup_opened\"}`}>\r\n      <form\r\n        className={`popup__container popup__container_${name}`}\r\n        name=\"popup-place__container\"\r\n        onSubmit={onSubmit}\r\n        noValidate\r\n      >\r\n        <h2 className=\"popup__title\">{title}</h2>\r\n        {children}\r\n        <button\r\n          type=\"button\"\r\n          className=\"popup__close popup__close_place\"\r\n          aria-label=\"Закрыть Окно\"\r\n          onClick={onClose}\r\n        ></button>\r\n        <button\r\n          type=\"submit\"\r\n          className=\"popup__save popup__save_place\"\r\n          aria-label=\"Создать\"\r\n        >\r\n          {buttonText}\r\n        </button>\r\n      </form>\r\n    </div>\r\n  );\r\n}\r\n","import { CurrentUserContext } from \"../contexts/CurrentUserContext\";\r\nimport React from \"react\";\r\nimport PopupWithForm from \"./PopupWithForm\";\r\n\r\nexport default function EditProfilePopup({ isOpen, onClose, onUpdateUser }) {\r\n  const currentUser = React.useContext(CurrentUserContext);\r\n  const [name, setName] = React.useState(\"\");\r\n  const [description, setDescription] = React.useState(\"\");\r\n\r\n  function handleChangeName(e) {\r\n    setName(e.target.value);\r\n  }\r\n\r\n  function handleChangeDescription(e) {\r\n    setDescription(e.target.value);\r\n  }\r\n\r\n  React.useEffect(() => {\r\n    setName(currentUser.name);\r\n    setDescription(currentUser.about);\r\n  }, [currentUser]);\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n    onUpdateUser({\r\n      name: name,\r\n      about: description,\r\n    });\r\n  }\r\n\r\n  return (\r\n    <PopupWithForm\r\n      name={\"profile\"}\r\n      title={\"Редактировать профиль\"}\r\n      isOpen={isOpen}\r\n      onClose={onClose}\r\n      onSubmit={handleSubmit}\r\n      buttonText=\"Сохранить\"\r\n    >\r\n      {name && (\r\n        <input\r\n          id=\"profile-name\"\r\n          type=\"text\"\r\n          value={name}\r\n          className=\"popup__text popup__text_name\"\r\n          name=\"name\"\r\n          required\r\n          minLength=\"2\"\r\n          maxLength=\"40\"\r\n          onChange={handleChangeName}\r\n        />\r\n      )}\r\n      <span id=\"profile-name-error\" className=\"popup__error\"></span>\r\n      {description && (\r\n        <input\r\n          id=\"profile-job\"\r\n          type=\"text\"\r\n          value={description}\r\n          className=\"popup__text popup__text_job\"\r\n          name=\"about\"\r\n          required\r\n          minLength=\"2\"\r\n          maxLength=\"200\"\r\n          onChange={handleChangeDescription}\r\n        />\r\n      )}\r\n      <span id=\"profile-job-error\" className=\"popup__error\"></span>\r\n    </PopupWithForm>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport PopupWithForm from \"./PopupWithForm\";\r\n\r\nexport default function EditAvatarPopup({ isOpen, onClose, onUpdateAvatar }) {\r\n  const linkAvatar = React.useRef();\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n    onUpdateAvatar(linkAvatar.current.value);\r\n  }\r\n\r\n  return (\r\n    <PopupWithForm\r\n      name={\"avatar\"}\r\n      title={\"Обновить аватар\"}\r\n      isOpen={isOpen}\r\n      onClose={onClose}\r\n      onSubmit={handleSubmit}\r\n      buttonText=\"Сохранить\"\r\n    >\r\n      <input\r\n        id=\"avatar\"\r\n        type=\"url\"\r\n        ref={linkAvatar}\r\n        className=\"popup__text popup__text_avatar\"\r\n        name=\"avatar\"\r\n        placeholder=\"Ссылка на аватар\"\r\n        required\r\n      />\r\n      <span id=\"avatar-error\" className=\"popup__error\"></span>\r\n    </PopupWithForm>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport PopupWithForm from \"./PopupWithForm\";\r\n\r\nexport default function AddPlacePopup({ isOpen, onClose, onAddPlace }) {\r\n  const [name, setName] = React.useState(\"\");\r\n  const [link, setLink] = React.useState(\"\");\r\n\r\n  function handleChangeName(e) {\r\n    setName(e.target.value);\r\n  }\r\n\r\n  function handleChangeLink(e) {\r\n    setLink(e.target.value);\r\n  }\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n    onAddPlace({ name: name, link: link });\r\n  }\r\n\r\n  return (\r\n    <PopupWithForm\r\n      name={\"place\"}\r\n      title={\"Новое место\"}\r\n      isOpen={isOpen}\r\n      onClose={onClose}\r\n      onSubmit={handleSubmit}\r\n      buttonText=\"Создать\"\r\n    >\r\n      <input\r\n        id=\"place-name\"\r\n        type=\"text\"\r\n        value={name}\r\n        className=\"popup__text popup__text_place-name\"\r\n        name=\"name\"\r\n        placeholder=\"Название\"\r\n        required\r\n        minLength=\"1\"\r\n        maxLength=\"30\"\r\n        onChange={handleChangeName}\r\n      />\r\n      <span id=\"place-name-error\" className=\"popup__error\"></span>\r\n      <input\r\n        id=\"place-link\"\r\n        type=\"url\"\r\n        value={link}\r\n        className=\"popup__text popup__text_place-link\"\r\n        name=\"link\"\r\n        placeholder=\"Ссылка на картинку\"\r\n        onChange={handleChangeLink}\r\n        required\r\n      />\r\n      <span id=\"place-link-error\" className=\"popup__error\"></span>\r\n    </PopupWithForm>\r\n  );\r\n}\r\n","import React from \"react\";\nimport Header from \"./Header\";\nimport Main from \"./Main\";\nimport Footer from \"./Footer\";\nimport ImagePopup from \"./ImagePopup\";\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\nimport { api } from \"../utiles/api\";\nimport EditProfilePopup from \"./EditProfilePopup\";\nimport EditAvatarPopup from \"./EditAvatarPopup\";\nimport AddPlacePopup from \"./AddPlacePopup\";\n\nexport default function App() {\n  const [isEditAvatarPopupOpen, setIsEditAvatar] = React.useState(false);\n  const [isEditProfilePopupOpen, setIsEditProfile] = React.useState(false);\n  const [isAddPlacePopupOpen, setIsEditPlace] = React.useState(false);\n  const [selectedCard, setSelectedCard] = React.useState(undefined);\n  const [currentUser, setCurrentUser] = React.useState(\"\");\n  const [cards, setCards] = React.useState([]);\n\n  React.useEffect(() => {\n    api\n      .getInitialCards()\n      .then((data) => {\n        setCards(data);\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  }, []);\n\n  React.useEffect(() => {\n    api\n      .getInfoUser()\n      .then((user) => {\n        setCurrentUser(user);\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  }, []);\n\n  function handleAvatarClick() {\n    setIsEditAvatar(true);\n  }\n\n  function handleProfileClick() {\n    setIsEditProfile(true);\n  }\n\n  function handlePlaceClick() {\n    setIsEditPlace(true);\n  }\n\n  function closeAllPopups() {\n    setIsEditAvatar(false);\n    setIsEditProfile(false);\n    setIsEditPlace(false);\n    setSelectedCard(undefined);\n  }\n\n  function handleCardClick(selectedCard) {\n    setSelectedCard(selectedCard);\n  }\n\n  function handleUpdateUser(currentUser) {\n    api\n      .editInfoUser(currentUser)\n      .then((info) => {\n        setCurrentUser(info);\n        closeAllPopups();\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  }\n\n  function handleUpdateAvatar(avatar) {\n    api\n      .setAva(avatar)\n      .then((info) => {\n        setCurrentUser(info);\n        closeAllPopups();\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  }\n\n  function handleCardLike(card) {\n    const isLiked = card.likes.some((i) => i._id === currentUser._id);\n    api\n      .setLike(card._id, isLiked)\n      .then((newCard) => {\n        const newCards = cards.map((c) => (c._id === card._id ? newCard : c));\n        setCards(newCards);\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  }\n\n  function handleCardDelete(cardId, card) {\n    api\n      .delCard(cardId)\n      .then((data) => {\n        console.log(data);\n        const newCards = cards.filter((c) => (c._id !== card._id ? c : \"\"));\n        setCards(newCards);\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  }\n\n  function handleAddPlaceSubmit(data) {\n    api\n      .addNewCard(data)\n      .then((newCard) => {\n        setCards([newCard, ...cards]);\n        closeAllPopups();\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  }\n\n  return (\n    <CurrentUserContext.Provider value={currentUser}>\n      <div className=\"page__content\">\n        <Header />\n        <Main\n          onEditAvatar={handleAvatarClick}\n          onEditProfile={handleProfileClick}\n          onAddPlace={handlePlaceClick}\n          onCardClick={handleCardClick}\n          cards={cards}\n          onCardLike={handleCardLike}\n          onCardDelete={handleCardDelete}\n        />\n        <Footer />\n        <EditAvatarPopup\n          isOpen={isEditAvatarPopupOpen}\n          onClose={closeAllPopups}\n          onUpdateAvatar={handleUpdateAvatar}\n        />\n        <EditProfilePopup\n          isOpen={isEditProfilePopupOpen}\n          onClose={closeAllPopups}\n          onUpdateUser={handleUpdateUser}\n        />\n        <AddPlacePopup\n          isOpen={isAddPlacePopupOpen}\n          onClose={closeAllPopups}\n          onAddPlace={handleAddPlaceSubmit}\n        />\n        <ImagePopup card={selectedCard} onClose={closeAllPopups} />\n      </div>\n    </CurrentUserContext.Provider>\n  );\n}\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./components/App\";\nimport reportWebVitals from \"./reportWebVitals\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}